{"version":3,"sources":["webpack:///webpack/bootstrap d677b6401a6c4577139f","webpack:///./lib/game.js","webpack:///./lib/main.js","webpack:///./lib/board.js","webpack:///./lib/cycle.js","webpack:///./lib/game_view.js"],"names":["Game","numPlayers","ctx","Board","board","players","won","checkWallCollision","bind","checkPathCollision","push","name","player1","move","checkCollision","fillPath","fillStyle","color","fillRect","pos","alert","document","addEventListener","canvas","getElementById","getContext","posX","posY","i","beginPath","strokeStyle","moveTo","lineTo","stroke","game","gameView","start","j","cycle","Cycle","dir","bindKeyHandlers","keyPress","console","log","e","key","attemptTurn","P1TURNS","P2TURNS","GameView","p","$","countdown","setInterval","text","fadeIn","fadeOut","clearInterval","setTimeout","animate","moveCycles","draw","requestAnimationFrame"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d677b6401a6c4577139f","import Board from './board';\nimport Cycle from './cycle';\n\nclass Game {\n  constructor(numPlayers, ctx){\n    this.Board = new Board();\n    this.board = this.Board.board;\n    this.players = [];\n    this.ctx = ctx;\n    this.numPlayers = numPlayers ;\n    this.won = false;\n    // this.addCycles();\n    this.checkWallCollision = this.checkWallCollision.bind(this);\n    this.checkPathCollision = this.checkPathCollision.bind(this);\n  }\n\n  addCycles(){\n      this.players.push(new Cycle(name));\n  }\n\n  moveCycles(){\n    this.player1.move();\n    this.checkCollision();\n    this.Board.fillPath(this.player1);\n  }\n\n  draw(){\n    this.ctx.fillStyle = this.player1.color;\n    this.ctx.fillRect((this.player1.pos[1] - 1) * 5,\n     (this.player1.pos[0] - 1) * 5, 10, 10);\n  }\n\n\n  checkCollision(){\n    if(this.checkWallCollision() || this.checkPathCollision()){\n      this.won = true;\n      return true;\n    }\n  }\n\n  checkWallCollision(){\n    if(this.player1.pos[1] < -1 || this.player1.pos[1] > 140 ||\n       this.player1.pos[0] < 1 || this.player1.pos[0] > 100){\n         alert('hit a wall');\n         return true;\n    }\n  }\n\n  checkPathCollision(){\n    if(this.board[this.player1.pos[0]][this.player1.pos[1]] === 1){\n      alert('hit a light path');\n      return true;\n    }\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import Game from './game';\nimport GameView from './game_view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let canvas = document.getElementById('canvas');\n  let ctx = canvas.getContext('2d');\n  let posX = 0;\n  let posY = 0;\n\n  for(let i = 25; i < 700; i += 25) {\n    ctx.beginPath();\n    ctx.strokeStyle = '#18CAE6';\n    ctx.moveTo(i, 0);\n    ctx.lineTo(i, 500);\n    ctx.stroke();\n  }\n  for(let i = 25; i < 500; i += 25){\n    ctx.beginPath();\n    ctx.strokeStyle = '#18CAE6';\n    ctx.moveTo(0, i);\n    ctx.lineTo(700, i);\n    ctx.stroke();\n  }\n\n  let game = new Game(1, ctx);\n  let gameView = new GameView(game, ctx);\n  // gameView.animate();\n  gameView.start();\n\n  // let gameLoop = setInterval(() => {\n  //   game.moveCycles();\n  //   game.draw();\n  //   console.log(game.player1.pos);\n  // }, 16);\n\n  //   function animate(){\n  //   game.moveCycles();\n  //   game.draw();\n  //   console.log(game.player1.pos);\n  //   setTimeout(() => {\n  //     requestAnimationFrame(animate);\n  //   }, 16);\n  // }\n  // animate();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","\nclass Board {\n  constructor() {\n    this.board = [];\n    for(let i = 0; i < 102; i++) {\n      this.board.push([]);\n      for(let j = 0; j < 140; j++){\n        this.board[i].push(0);\n      }\n    }\n  }\n\n  fillPath(cycle){\n    this.board[cycle.pos[0]][cycle.pos[1]] = 1;\n  }\n}\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","class Cycle {\n  constructor(){\n    this.pos = [1, 1];\n    this.color = \"rgba(246,106,53, .5)\";\n    this.dir = [1, 0];\n    this.bindKeyHandlers();\n  }\n\n  bindKeyHandlers() {\n    this.keyPress = e => {\n      console.log(e.key);\n      switch(e.key){\n        case \"w\":\n          this.attemptTurn(\"w\");\n          break;\n        case \"a\":\n          this.attemptTurn(\"a\");\n          break;\n        case \"s\":\n          this.attemptTurn(\"s\");\n          break;\n        case \"d\":\n          this.attemptTurn(\"d\");\n          break;\n        case \"ArrowUp\":\n        case \"ArrowLeft\":\n        case \"ArrowDown\":\n        case \"ArrowRight\":\n\n      }\n    };\n    document.addEventListener('keydown', this.keyPress);\n  }\n\n  attemptTurn(key){\n    if(!(Cycle.P1TURNS[key][0] + this.dir[0] === 0 &&\n       Cycle.P1TURNS[key][1] + this.dir[1] === 0)){\n      this.dir = Cycle.P1TURNS[key];\n    }\n  }\n\n  move(){\n    this.pos = [this.pos[0] + this.dir[1], this.pos[1] + this.dir[0]];\n  }\n\n}\n\nCycle.P2TURNS = {\n  \"ArrowUp\": [0, -1],\n  \"ArrowLeft\": [-1, 0],\n  \"ArrowDown\": [0, 1],\n  \"ArrowRight\": [1, 0]\n};\n\nCycle.P1TURNS = {\n  \"w\": [0, -1],\n  \"a\": [-1, 0],\n  \"s\": [0, 1],\n  \"d\": [1, 0]\n};\n\nexport default Cycle;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cycle.js","import Game from './game';\n\nclass GameView {\n  constructor(game, ctx){\n    this.ctx = ctx;\n    this.game = game;\n  }\n\n  start(){\n    let i = 3;\n    let p = $('#countdown');\n    let countdown = setInterval(() => {\n      p.text(`${i}`);\n      p.fadeIn(600);\n      p.fadeOut(600);\n      i -= 1;\n      if(i === 0){\n        clearInterval(countdown);\n      }\n    }, 1200);\n    setTimeout(() => {\n      p.text('BATTLE!');\n      p.fadeIn(800);\n      p.fadeOut(500);\n    }, 4800);\n    setTimeout(() => {\n      this.animate();\n    }, 6200);\n  }\n\n  animate(){\n\n    this.game.moveCycles();\n    this.game.draw();\n    setTimeout(() => {\n      if(!this.game.won){\n        requestAnimationFrame(this.animate.bind(this));\n      } else {\n        alert('game over');\n      }\n    }, 16);\n  }\n}\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}